{"ast":null,"code":"// https://github.com/npm/rfcs/pull/183\n\nconst envVal = val => Array.isArray(val) ? val.map(v => envVal(v)).join('\\n\\n') : val === null || val === false ? '' : String(val);\nconst packageEnvs = (env, vals, prefix) => {\n  for (const [key, val] of Object.entries(vals)) {\n    if (val === undefined) {\n      continue;\n    } else if (val && !Array.isArray(val) && typeof val === 'object') {\n      packageEnvs(env, val, `${prefix}${key}_`);\n    } else {\n      env[`${prefix}${key}`] = envVal(val);\n    }\n  }\n  return env;\n};\nmodule.exports = (env, pkg) => packageEnvs({\n  ...env\n}, {\n  name: pkg.name,\n  version: pkg.version,\n  config: pkg.config,\n  engines: pkg.engines,\n  bin: pkg.bin\n}, 'npm_package_');","map":{"version":3,"names":["envVal","val","Array","isArray","map","v","join","String","packageEnvs","env","vals","prefix","key","Object","entries","undefined","module","exports","pkg","name","version","config","engines","bin"],"sources":["I:/Angular/angular-blog/node_modules/@npmcli/run-script/lib/package-envs.js"],"sourcesContent":["// https://github.com/npm/rfcs/pull/183\n\nconst envVal = val => Array.isArray(val) ? val.map(v => envVal(v)).join('\\n\\n')\n  : val === null || val === false ? ''\n  : String(val)\n\nconst packageEnvs = (env, vals, prefix) => {\n  for (const [key, val] of Object.entries(vals)) {\n    if (val === undefined) {\n      continue\n    } else if (val && !Array.isArray(val) && typeof val === 'object') {\n      packageEnvs(env, val, `${prefix}${key}_`)\n    } else {\n      env[`${prefix}${key}`] = envVal(val)\n    }\n  }\n  return env\n}\n\nmodule.exports = (env, pkg) => packageEnvs({ ...env }, {\n  name: pkg.name,\n  version: pkg.version,\n  config: pkg.config,\n  engines: pkg.engines,\n  bin: pkg.bin,\n}, 'npm_package_')\n"],"mappings":"AAAA;;AAEA,MAAMA,MAAM,GAAGC,GAAG,IAAIC,KAAK,CAACC,OAAO,CAACF,GAAG,CAAC,GAAGA,GAAG,CAACG,GAAG,CAACC,CAAC,IAAIL,MAAM,CAACK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,MAAM,CAAC,GAC3EL,GAAG,KAAK,IAAI,IAAIA,GAAG,KAAK,KAAK,GAAG,EAAE,GAClCM,MAAM,CAACN,GAAG,CAAC;AAEf,MAAMO,WAAW,GAAG,CAACC,GAAG,EAAEC,IAAI,EAAEC,MAAM,KAAK;EACzC,KAAK,MAAM,CAACC,GAAG,EAAEX,GAAG,CAAC,IAAIY,MAAM,CAACC,OAAO,CAACJ,IAAI,CAAC,EAAE;IAC7C,IAAIT,GAAG,KAAKc,SAAS,EAAE;MACrB;IACF,CAAC,MAAM,IAAId,GAAG,IAAI,CAACC,KAAK,CAACC,OAAO,CAACF,GAAG,CAAC,IAAI,OAAOA,GAAG,KAAK,QAAQ,EAAE;MAChEO,WAAW,CAACC,GAAG,EAAER,GAAG,EAAG,GAAEU,MAAO,GAAEC,GAAI,GAAE,CAAC;IAC3C,CAAC,MAAM;MACLH,GAAG,CAAE,GAAEE,MAAO,GAAEC,GAAI,EAAC,CAAC,GAAGZ,MAAM,CAACC,GAAG,CAAC;IACtC;EACF;EACA,OAAOQ,GAAG;AACZ,CAAC;AAEDO,MAAM,CAACC,OAAO,GAAG,CAACR,GAAG,EAAES,GAAG,KAAKV,WAAW,CAAC;EAAE,GAAGC;AAAI,CAAC,EAAE;EACrDU,IAAI,EAAED,GAAG,CAACC,IAAI;EACdC,OAAO,EAAEF,GAAG,CAACE,OAAO;EACpBC,MAAM,EAAEH,GAAG,CAACG,MAAM;EAClBC,OAAO,EAAEJ,GAAG,CAACI,OAAO;EACpBC,GAAG,EAAEL,GAAG,CAACK;AACX,CAAC,EAAE,cAAc,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}