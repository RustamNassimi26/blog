{"ast":null,"code":"\"use strict\";\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.jsonHelpUsage = void 0;\nconst yargs_1 = __importDefault(require(\"yargs\"));\nconst yargsDefaultCommandRegExp = /^\\$0|\\*/;\nfunction jsonHelpUsage() {\n  var _a, _b, _c, _d, _e;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const localYargs = yargs_1.default;\n  const {\n    deprecatedOptions,\n    alias: aliases,\n    array,\n    string,\n    boolean,\n    number,\n    choices,\n    demandedOptions,\n    default: defaultVal,\n    hiddenOptions = []\n  } = localYargs.getOptions();\n  const internalMethods = localYargs.getInternalMethods();\n  const usageInstance = internalMethods.getUsageInstance();\n  const context = internalMethods.getContext();\n  const descriptions = usageInstance.getDescriptions();\n  const groups = localYargs.getGroups();\n  const positional = groups[usageInstance.getPositionalGroupName()];\n  const hidden = new Set(hiddenOptions);\n  const normalizeOptions = [];\n  const allAliases = new Set([...Object.values(aliases).flat()]);\n  for (const [names, type] of [[array, 'array'], [string, 'string'], [boolean, 'boolean'], [number, 'number']]) {\n    for (const name of names) {\n      if (allAliases.has(name) || hidden.has(name)) {\n        // Ignore hidden, aliases and already visited option.\n        continue;\n      }\n      const positionalIndex = (_a = positional === null || positional === void 0 ? void 0 : positional.indexOf(name)) !== null && _a !== void 0 ? _a : -1;\n      const alias = aliases[name];\n      normalizeOptions.push({\n        name,\n        type,\n        deprecated: deprecatedOptions[name],\n        aliases: (alias === null || alias === void 0 ? void 0 : alias.length) > 0 ? alias : undefined,\n        default: defaultVal[name],\n        required: demandedOptions[name],\n        enum: choices[name],\n        description: (_b = descriptions[name]) === null || _b === void 0 ? void 0 : _b.replace('__yargsString__:', ''),\n        positional: positionalIndex >= 0 ? positionalIndex : undefined\n      });\n    }\n  }\n  // https://github.com/yargs/yargs/blob/00e4ebbe3acd438e73fdb101e75b4f879eb6d345/lib/usage.ts#L124\n  const subcommands = usageInstance.getCommands().map(([name, rawDescription, isDefault, aliases, deprecated]) => ({\n    name: name.split(' ', 1)[0].replace(yargsDefaultCommandRegExp, ''),\n    command: name.replace(yargsDefaultCommandRegExp, ''),\n    default: isDefault || undefined,\n    ...parseDescription(rawDescription),\n    aliases,\n    deprecated\n  })).sort((a, b) => a.name.localeCompare(b.name));\n  const [command, rawDescription] = (_c = usageInstance.getUsage()[0]) !== null && _c !== void 0 ? _c : [];\n  const defaultSubCommand = (_e = (_d = subcommands.find(x => x.default)) === null || _d === void 0 ? void 0 : _d.command) !== null && _e !== void 0 ? _e : '';\n  const otherSubcommands = subcommands.filter(s => !s.default);\n  const output = {\n    name: [...context.commands].pop(),\n    command: `${command === null || command === void 0 ? void 0 : command.replace(yargsDefaultCommandRegExp, localYargs['$0'])}${defaultSubCommand}`,\n    ...parseDescription(rawDescription),\n    options: normalizeOptions.sort((a, b) => a.name.localeCompare(b.name)),\n    subcommands: otherSubcommands.length ? otherSubcommands : undefined\n  };\n  return JSON.stringify(output, undefined, 2);\n}\nexports.jsonHelpUsage = jsonHelpUsage;\nfunction parseDescription(rawDescription) {\n  try {\n    const {\n      longDescription,\n      describe: shortDescription,\n      longDescriptionRelativePath\n    } = JSON.parse(rawDescription);\n    return {\n      shortDescription,\n      longDescriptionRelativePath,\n      longDescription\n    };\n  } catch {\n    return {\n      shortDescription: rawDescription\n    };\n  }\n}","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","jsonHelpUsage","yargs_1","require","yargsDefaultCommandRegExp","_a","_b","_c","_d","_e","localYargs","default","deprecatedOptions","alias","aliases","array","string","boolean","number","choices","demandedOptions","defaultVal","hiddenOptions","getOptions","internalMethods","getInternalMethods","usageInstance","getUsageInstance","context","getContext","descriptions","getDescriptions","groups","getGroups","positional","getPositionalGroupName","hidden","Set","normalizeOptions","allAliases","values","flat","names","type","name","has","positionalIndex","indexOf","push","deprecated","length","undefined","required","enum","description","replace","subcommands","getCommands","map","rawDescription","isDefault","split","command","parseDescription","sort","a","b","localeCompare","getUsage","defaultSubCommand","find","x","otherSubcommands","filter","s","output","commands","pop","options","JSON","stringify","longDescription","describe","shortDescription","longDescriptionRelativePath","parse"],"sources":["I:/Angular/angular-blog/node_modules/@angular/cli/src/command-builder/utilities/json-help.js"],"sourcesContent":["\"use strict\";\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.jsonHelpUsage = void 0;\nconst yargs_1 = __importDefault(require(\"yargs\"));\nconst yargsDefaultCommandRegExp = /^\\$0|\\*/;\nfunction jsonHelpUsage() {\n    var _a, _b, _c, _d, _e;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const localYargs = yargs_1.default;\n    const { deprecatedOptions, alias: aliases, array, string, boolean, number, choices, demandedOptions, default: defaultVal, hiddenOptions = [], } = localYargs.getOptions();\n    const internalMethods = localYargs.getInternalMethods();\n    const usageInstance = internalMethods.getUsageInstance();\n    const context = internalMethods.getContext();\n    const descriptions = usageInstance.getDescriptions();\n    const groups = localYargs.getGroups();\n    const positional = groups[usageInstance.getPositionalGroupName()];\n    const hidden = new Set(hiddenOptions);\n    const normalizeOptions = [];\n    const allAliases = new Set([...Object.values(aliases).flat()]);\n    for (const [names, type] of [\n        [array, 'array'],\n        [string, 'string'],\n        [boolean, 'boolean'],\n        [number, 'number'],\n    ]) {\n        for (const name of names) {\n            if (allAliases.has(name) || hidden.has(name)) {\n                // Ignore hidden, aliases and already visited option.\n                continue;\n            }\n            const positionalIndex = (_a = positional === null || positional === void 0 ? void 0 : positional.indexOf(name)) !== null && _a !== void 0 ? _a : -1;\n            const alias = aliases[name];\n            normalizeOptions.push({\n                name,\n                type,\n                deprecated: deprecatedOptions[name],\n                aliases: (alias === null || alias === void 0 ? void 0 : alias.length) > 0 ? alias : undefined,\n                default: defaultVal[name],\n                required: demandedOptions[name],\n                enum: choices[name],\n                description: (_b = descriptions[name]) === null || _b === void 0 ? void 0 : _b.replace('__yargsString__:', ''),\n                positional: positionalIndex >= 0 ? positionalIndex : undefined,\n            });\n        }\n    }\n    // https://github.com/yargs/yargs/blob/00e4ebbe3acd438e73fdb101e75b4f879eb6d345/lib/usage.ts#L124\n    const subcommands = usageInstance.getCommands()\n        .map(([name, rawDescription, isDefault, aliases, deprecated]) => ({\n        name: name.split(' ', 1)[0].replace(yargsDefaultCommandRegExp, ''),\n        command: name.replace(yargsDefaultCommandRegExp, ''),\n        default: isDefault || undefined,\n        ...parseDescription(rawDescription),\n        aliases,\n        deprecated,\n    }))\n        .sort((a, b) => a.name.localeCompare(b.name));\n    const [command, rawDescription] = (_c = usageInstance.getUsage()[0]) !== null && _c !== void 0 ? _c : [];\n    const defaultSubCommand = (_e = (_d = subcommands.find((x) => x.default)) === null || _d === void 0 ? void 0 : _d.command) !== null && _e !== void 0 ? _e : '';\n    const otherSubcommands = subcommands.filter((s) => !s.default);\n    const output = {\n        name: [...context.commands].pop(),\n        command: `${command === null || command === void 0 ? void 0 : command.replace(yargsDefaultCommandRegExp, localYargs['$0'])}${defaultSubCommand}`,\n        ...parseDescription(rawDescription),\n        options: normalizeOptions.sort((a, b) => a.name.localeCompare(b.name)),\n        subcommands: otherSubcommands.length ? otherSubcommands : undefined,\n    };\n    return JSON.stringify(output, undefined, 2);\n}\nexports.jsonHelpUsage = jsonHelpUsage;\nfunction parseDescription(rawDescription) {\n    try {\n        const { longDescription, describe: shortDescription, longDescriptionRelativePath, } = JSON.parse(rawDescription);\n        return {\n            shortDescription,\n            longDescriptionRelativePath,\n            longDescription,\n        };\n    }\n    catch {\n        return {\n            shortDescription: rawDescription,\n        };\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}