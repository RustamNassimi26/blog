{"ast":null,"code":"import { switchMap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../shared/posts.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"ngx-quill\";\nfunction PostPageComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 2)(2, \"div\", 3)(3, \"h1\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 4);\n    i0.ɵɵtext(6, \"\\u041D\\u0430 \\u0433\\u043B\\u0430\\u0432\\u043D\\u0443\\u044E\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 5)(8, \"strong\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"small\");\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\");\n    i0.ɵɵelement(14, \"quill-view-html\", 6);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const post_r3 = ctx.ngIf;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(post_r3.title);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(post_r3.author);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(12, 4, post_r3.date, \"medium\", null, \"ru\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"content\", post_r3.text);\n  }\n}\nfunction PostPageComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 7);\n    i0.ɵɵtext(1, \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0436\\u0430\\u044E \\u043F\\u043E\\u0441\\u0442...\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class PostPageComponent {\n  constructor(route, postsService) {\n    this.route = route;\n    this.postsService = postsService;\n  }\n  ngOnInit() {\n    this.post$ = this.route.params.pipe(switchMap(params => {\n      return this.postsService.getById(params['id']);\n    }));\n  }\n  static #_ = this.ɵfac = function PostPageComponent_Factory(t) {\n    return new (t || PostPageComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.PostsService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PostPageComponent,\n    selectors: [[\"app-post-page\"]],\n    decls: 4,\n    vars: 4,\n    consts: [[4, \"ngIf\", \"ngIfElse\"], [\"loading\", \"\"], [1, \"post\"], [1, \"header\"], [\"routerLink\", \"/\", 1, \"btn\", \"btn-link\"], [1, \"info\"], [3, \"content\"], [1, \"text-center\"]],\n    template: function PostPageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, PostPageComponent_div_0_Template, 15, 9, \"div\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵtemplate(2, PostPageComponent_ng_template_2_Template, 2, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(3);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 2, ctx.post$))(\"ngIfElse\", _r1);\n      }\n    },\n    dependencies: [i3.NgIf, i1.RouterLink, i4.QuillViewHTMLComponent, i3.AsyncPipe, i3.DatePipe],\n    styles: [\".post[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n.post[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n  margin-bottom: 0.5rem;\\n}\\n.post[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%] {\\n  margin-right: 1rem;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcG9zdC1wYWdlL3Bvc3QtcGFnZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFRTtFQUNFLGFBQUE7RUFDQSw4QkFBQTtFQUNBLG1CQUFBO0FBREo7QUFJRTtFQUNFLHFCQUFBO0FBRko7QUFNSTtFQUNFLGtCQUFBO0FBSk4iLCJzb3VyY2VzQ29udGVudCI6WyIucG9zdCB7XHJcblxyXG4gIC5oZWFkZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgfVxyXG5cclxuICBoMSB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAuNXJlbTtcclxuICB9XHJcblxyXG4gIC5pbmZvIHtcclxuICAgIHN0cm9uZyB7XHJcbiAgICAgIG1hcmdpbi1yaWdodDogMXJlbTtcclxuICAgIH1cclxuICB9XHJcblxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"mappings":"AAKA,SAAQA,SAAS,QAAO,gBAAgB;;;;;;;;ICLxCC,2BAAiD;IAGvCA,YAAgB;IAAAA,iBAAK;IAEzBA,iCAA4C;IAAAA,uEAAU;IAAAA,iBAAS;IAGjEA,8BAAkB;IACRA,YAAiB;IAAAA,iBAAS;IAClCA,8BAAO;IAAAA,aAAyC;;IAAAA,iBAAQ;IAG1DA,4BAAK;IACHA,sCAAyD;IAC3DA,iBAAM;;;;IAZAA,eAAgB;IAAhBA,mCAAgB;IAMZA,eAAiB;IAAjBA,oCAAiB;IAClBA,eAAyC;IAAzCA,+EAAyC;IAI/BA,eAAqB;IAArBA,sCAAqB;;;;;IAM1CA,4BAAuB;IAAAA,4FAAgB;IAAAA,iBAAI;;;ADR7C,OAAM,MAAOC,iBAAiB;EAI5BC,YACUC,KAAqB,EACrBC,YAA0B;IAD1B,UAAK,GAALD,KAAK;IACL,iBAAY,GAAZC,YAAY;EAEtB;EAEAC,QAAQ;IACN,IAAI,CAACC,KAAK,GAAG,IAAI,CAACH,KAAK,CAACI,MAAM,CAC3BC,IAAI,CAACT,SAAS,CAAEQ,MAAc,IAAI;MACjC,OAAO,IAAI,CAACH,YAAY,CAACK,OAAO,CAACF,MAAM,CAAC,IAAI,CAAC,CAAC;IAChD,CAAC,CAAC,CAAC;EACP;EAAC;qBAfUN,iBAAiB;EAAA;EAAA;UAAjBA,iBAAiB;IAAAS;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCZ9Bd,mEAiBM;;QAENA,mHAEc;;;;QArBRA,sDAAoB","names":["switchMap","i0","PostPageComponent","constructor","route","postsService","ngOnInit","post$","params","pipe","getById","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["I:\\Angular\\angular-blog\\src\\app\\post-page\\post-page.component.ts","I:\\Angular\\angular-blog\\src\\app\\post-page\\post-page.component.html"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Params} from '@angular/router';\nimport {PostsService} from '../shared/posts.service';\nimport {Observable} from 'rxjs';\nimport {Post} from '../shared/interfaces';\nimport {switchMap} from 'rxjs/operators';\n\n@Component({\n  selector: 'app-post-page',\n  templateUrl: './post-page.component.html',\n  styleUrls: ['./post-page.component.scss']\n})\nexport class PostPageComponent implements OnInit {\n\n  post$!: Observable<Post>\n\n  constructor(\n    private route: ActivatedRoute,\n    private postsService: PostsService\n  ) {\n  }\n\n  ngOnInit() {\n    this.post$ = this.route.params\n      .pipe(switchMap((params: Params) => {\n        return this.postsService.getById(params['id'])\n      }))\n  }\n\n}\n","<div *ngIf=\"post$ | async as post; else loading\">\n  <div class=\"post\">\n    <div class=\"header\">\n      <h1>{{ post.title }}</h1>\n\n      <button routerLink=\"/\" class=\"btn btn-link\">На главную</button>\n    </div>\n\n    <div class=\"info\">\n      <strong>{{ post.author }}</strong>\n      <small>{{ post.date | date:'medium':null:'ru' }}</small>\n    </div>\n\n    <div>\n      <quill-view-html [content]=\"post.text\"></quill-view-html>\n    </div>\n  </div>\n</div>\n\n<ng-template #loading>\n  <p class=\"text-center\">Загружаю пост...</p>\n</ng-template>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}