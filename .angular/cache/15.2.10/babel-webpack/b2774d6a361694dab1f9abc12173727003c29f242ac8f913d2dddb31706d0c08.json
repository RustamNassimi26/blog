{"ast":null,"code":"'use strict';\n\n// walk the tree of deps starting from the top level list of bundled deps\n// Any deps at the top level that are depended on by a bundled dep that\n// does not have that dep in its own node_modules folder are considered\n// bundled deps as well.  This list of names can be passed to npm-packlist\n// as the \"bundled\" argument.  Additionally, packageJsonCache is shared so\n// packlist doesn't have to re-read files already consumed in this pass\nconst fs = require('fs');\nconst path = require('path');\nconst EE = require('events').EventEmitter;\n// we don't care about the package bins, but we share a pj cache\n// with other modules that DO care about it, so keep it nice.\nconst normalizePackageBin = require('npm-normalize-package-bin');\nclass BundleWalker extends EE {\n  constructor(opt) {\n    opt = opt || {};\n    super(opt);\n    this.path = path.resolve(opt.path || process.cwd());\n    this.parent = opt.parent || null;\n    if (this.parent) {\n      this.result = this.parent.result;\n      // only collect results in node_modules folders at the top level\n      // since the node_modules in a bundled dep is included always\n      if (!this.parent.parent) {\n        const base = path.basename(this.path);\n        const scope = path.basename(path.dirname(this.path));\n        this.result.add(/^@/.test(scope) ? scope + '/' + base : base);\n      }\n      this.root = this.parent.root;\n      this.packageJsonCache = this.parent.packageJsonCache;\n    } else {\n      this.result = new Set();\n      this.root = this.path;\n      this.packageJsonCache = opt.packageJsonCache || new Map();\n    }\n    this.seen = new Set();\n    this.didDone = false;\n    this.children = 0;\n    this.node_modules = [];\n    this.package = null;\n    this.bundle = null;\n  }\n  addListener(ev, fn) {\n    return this.on(ev, fn);\n  }\n  on(ev, fn) {\n    const ret = super.on(ev, fn);\n    if (ev === 'done' && this.didDone) {\n      this.emit('done', this.result);\n    }\n    return ret;\n  }\n  done() {\n    if (!this.didDone) {\n      this.didDone = true;\n      if (!this.parent) {\n        const res = Array.from(this.result);\n        this.result = res;\n        this.emit('done', res);\n      } else {\n        this.emit('done');\n      }\n    }\n  }\n  start() {\n    const pj = path.resolve(this.path, 'package.json');\n    if (this.packageJsonCache.has(pj)) {\n      this.onPackage(this.packageJsonCache.get(pj));\n    } else {\n      this.readPackageJson(pj);\n    }\n    return this;\n  }\n  readPackageJson(pj) {\n    fs.readFile(pj, (er, data) => er ? this.done() : this.onPackageJson(pj, data));\n  }\n  onPackageJson(pj, data) {\n    try {\n      this.package = normalizePackageBin(JSON.parse(data + ''));\n    } catch (er) {\n      return this.done();\n    }\n    this.packageJsonCache.set(pj, this.package);\n    this.onPackage(this.package);\n  }\n  allDepsBundled(pkg) {\n    return Object.keys(pkg.dependencies || {}).concat(Object.keys(pkg.optionalDependencies || {}));\n  }\n  onPackage(pkg) {\n    // all deps are bundled if we got here as a child.\n    // otherwise, only bundle bundledDeps\n    // Get a unique-ified array with a short-lived Set\n    const bdRaw = this.parent ? this.allDepsBundled(pkg) : pkg.bundleDependencies || pkg.bundledDependencies || [];\n    const bd = Array.from(new Set(Array.isArray(bdRaw) ? bdRaw : bdRaw === true ? this.allDepsBundled(pkg) : Object.keys(bdRaw)));\n    if (!bd.length) {\n      return this.done();\n    }\n    this.bundle = bd;\n    this.readModules();\n  }\n  readModules() {\n    readdirNodeModules(this.path + '/node_modules', (er, nm) => er ? this.onReaddir([]) : this.onReaddir(nm));\n  }\n  onReaddir(nm) {\n    // keep track of what we have, in case children need it\n    this.node_modules = nm;\n    this.bundle.forEach(dep => this.childDep(dep));\n    if (this.children === 0) {\n      this.done();\n    }\n  }\n  childDep(dep) {\n    if (this.node_modules.indexOf(dep) !== -1) {\n      if (!this.seen.has(dep)) {\n        this.seen.add(dep);\n        this.child(dep);\n      }\n    } else if (this.parent) {\n      this.parent.childDep(dep);\n    }\n  }\n  child(dep) {\n    const p = this.path + '/node_modules/' + dep;\n    this.children += 1;\n    const child = new BundleWalker({\n      path: p,\n      parent: this\n    });\n    child.on('done', _ => {\n      if (--this.children === 0) {\n        this.done();\n      }\n    });\n    child.start();\n  }\n}\nclass BundleWalkerSync extends BundleWalker {\n  start() {\n    super.start();\n    this.done();\n    return this;\n  }\n  readPackageJson(pj) {\n    try {\n      this.onPackageJson(pj, fs.readFileSync(pj));\n    } catch {\n      // empty catch\n    }\n    return this;\n  }\n  readModules() {\n    try {\n      this.onReaddir(readdirNodeModulesSync(this.path + '/node_modules'));\n    } catch {\n      this.onReaddir([]);\n    }\n  }\n  child(dep) {\n    new BundleWalkerSync({\n      path: this.path + '/node_modules/' + dep,\n      parent: this\n    }).start();\n  }\n}\nconst readdirNodeModules = (nm, cb) => {\n  fs.readdir(nm, (er, set) => {\n    if (er) {\n      cb(er);\n    } else {\n      const scopes = set.filter(f => /^@/.test(f));\n      if (!scopes.length) {\n        cb(null, set);\n      } else {\n        const unscoped = set.filter(f => !/^@/.test(f));\n        let count = scopes.length;\n        scopes.forEach(scope => {\n          fs.readdir(nm + '/' + scope, (readdirEr, pkgs) => {\n            if (readdirEr || !pkgs.length) {\n              unscoped.push(scope);\n            } else {\n              unscoped.push.apply(unscoped, pkgs.map(p => scope + '/' + p));\n            }\n            if (--count === 0) {\n              cb(null, unscoped);\n            }\n          });\n        });\n      }\n    }\n  });\n};\nconst readdirNodeModulesSync = nm => {\n  const set = fs.readdirSync(nm);\n  const unscoped = set.filter(f => !/^@/.test(f));\n  const scopes = set.filter(f => /^@/.test(f)).map(scope => {\n    try {\n      const pkgs = fs.readdirSync(nm + '/' + scope);\n      return pkgs.length ? pkgs.map(p => scope + '/' + p) : [scope];\n    } catch (er) {\n      return [scope];\n    }\n  }).reduce((a, b) => a.concat(b), []);\n  return unscoped.concat(scopes);\n};\nconst walk = (options, callback) => {\n  const p = new Promise((resolve, reject) => {\n    new BundleWalker(options).on('done', resolve).on('error', reject).start();\n  });\n  return callback ? p.then(res => callback(null, res), callback) : p;\n};\nconst walkSync = options => {\n  return new BundleWalkerSync(options).start().result;\n};\nmodule.exports = walk;\nwalk.sync = walkSync;\nwalk.BundleWalker = BundleWalker;\nwalk.BundleWalkerSync = BundleWalkerSync;","map":{"version":3,"names":["fs","require","path","EE","EventEmitter","normalizePackageBin","BundleWalker","constructor","opt","resolve","process","cwd","parent","result","base","basename","scope","dirname","add","test","root","packageJsonCache","Set","Map","seen","didDone","children","node_modules","package","bundle","addListener","ev","fn","on","ret","emit","done","res","Array","from","start","pj","has","onPackage","get","readPackageJson","readFile","er","data","onPackageJson","JSON","parse","set","allDepsBundled","pkg","Object","keys","dependencies","concat","optionalDependencies","bdRaw","bundleDependencies","bundledDependencies","bd","isArray","length","readModules","readdirNodeModules","nm","onReaddir","forEach","dep","childDep","indexOf","child","p","_","BundleWalkerSync","readFileSync","readdirNodeModulesSync","cb","readdir","scopes","filter","f","unscoped","count","readdirEr","pkgs","push","apply","map","readdirSync","reduce","a","b","walk","options","callback","Promise","reject","then","walkSync","module","exports","sync"],"sources":["I:/Angular/angular-blog/node_modules/npm-bundled/lib/index.js"],"sourcesContent":["'use strict'\n\n// walk the tree of deps starting from the top level list of bundled deps\n// Any deps at the top level that are depended on by a bundled dep that\n// does not have that dep in its own node_modules folder are considered\n// bundled deps as well.  This list of names can be passed to npm-packlist\n// as the \"bundled\" argument.  Additionally, packageJsonCache is shared so\n// packlist doesn't have to re-read files already consumed in this pass\n\nconst fs = require('fs')\nconst path = require('path')\nconst EE = require('events').EventEmitter\n// we don't care about the package bins, but we share a pj cache\n// with other modules that DO care about it, so keep it nice.\nconst normalizePackageBin = require('npm-normalize-package-bin')\n\nclass BundleWalker extends EE {\n  constructor (opt) {\n    opt = opt || {}\n    super(opt)\n    this.path = path.resolve(opt.path || process.cwd())\n\n    this.parent = opt.parent || null\n    if (this.parent) {\n      this.result = this.parent.result\n      // only collect results in node_modules folders at the top level\n      // since the node_modules in a bundled dep is included always\n      if (!this.parent.parent) {\n        const base = path.basename(this.path)\n        const scope = path.basename(path.dirname(this.path))\n        this.result.add(/^@/.test(scope) ? scope + '/' + base : base)\n      }\n      this.root = this.parent.root\n      this.packageJsonCache = this.parent.packageJsonCache\n    } else {\n      this.result = new Set()\n      this.root = this.path\n      this.packageJsonCache = opt.packageJsonCache || new Map()\n    }\n\n    this.seen = new Set()\n    this.didDone = false\n    this.children = 0\n    this.node_modules = []\n    this.package = null\n    this.bundle = null\n  }\n\n  addListener (ev, fn) {\n    return this.on(ev, fn)\n  }\n\n  on (ev, fn) {\n    const ret = super.on(ev, fn)\n    if (ev === 'done' && this.didDone) {\n      this.emit('done', this.result)\n    }\n    return ret\n  }\n\n  done () {\n    if (!this.didDone) {\n      this.didDone = true\n      if (!this.parent) {\n        const res = Array.from(this.result)\n        this.result = res\n        this.emit('done', res)\n      } else {\n        this.emit('done')\n      }\n    }\n  }\n\n  start () {\n    const pj = path.resolve(this.path, 'package.json')\n    if (this.packageJsonCache.has(pj)) {\n      this.onPackage(this.packageJsonCache.get(pj))\n    } else {\n      this.readPackageJson(pj)\n    }\n    return this\n  }\n\n  readPackageJson (pj) {\n    fs.readFile(pj, (er, data) =>\n      er ? this.done() : this.onPackageJson(pj, data))\n  }\n\n  onPackageJson (pj, data) {\n    try {\n      this.package = normalizePackageBin(JSON.parse(data + ''))\n    } catch (er) {\n      return this.done()\n    }\n    this.packageJsonCache.set(pj, this.package)\n    this.onPackage(this.package)\n  }\n\n  allDepsBundled (pkg) {\n    return Object.keys(pkg.dependencies || {}).concat(\n      Object.keys(pkg.optionalDependencies || {}))\n  }\n\n  onPackage (pkg) {\n    // all deps are bundled if we got here as a child.\n    // otherwise, only bundle bundledDeps\n    // Get a unique-ified array with a short-lived Set\n    const bdRaw = this.parent ? this.allDepsBundled(pkg)\n      : pkg.bundleDependencies || pkg.bundledDependencies || []\n\n    const bd = Array.from(new Set(\n      Array.isArray(bdRaw) ? bdRaw\n      : bdRaw === true ? this.allDepsBundled(pkg)\n      : Object.keys(bdRaw)))\n\n    if (!bd.length) {\n      return this.done()\n    }\n\n    this.bundle = bd\n    this.readModules()\n  }\n\n  readModules () {\n    readdirNodeModules(this.path + '/node_modules', (er, nm) =>\n      er ? this.onReaddir([]) : this.onReaddir(nm))\n  }\n\n  onReaddir (nm) {\n    // keep track of what we have, in case children need it\n    this.node_modules = nm\n\n    this.bundle.forEach(dep => this.childDep(dep))\n    if (this.children === 0) {\n      this.done()\n    }\n  }\n\n  childDep (dep) {\n    if (this.node_modules.indexOf(dep) !== -1) {\n      if (!this.seen.has(dep)) {\n        this.seen.add(dep)\n        this.child(dep)\n      }\n    } else if (this.parent) {\n      this.parent.childDep(dep)\n    }\n  }\n\n  child (dep) {\n    const p = this.path + '/node_modules/' + dep\n    this.children += 1\n    const child = new BundleWalker({\n      path: p,\n      parent: this,\n    })\n    child.on('done', _ => {\n      if (--this.children === 0) {\n        this.done()\n      }\n    })\n    child.start()\n  }\n}\n\nclass BundleWalkerSync extends BundleWalker {\n  start () {\n    super.start()\n    this.done()\n    return this\n  }\n\n  readPackageJson (pj) {\n    try {\n      this.onPackageJson(pj, fs.readFileSync(pj))\n    } catch {\n      // empty catch\n    }\n    return this\n  }\n\n  readModules () {\n    try {\n      this.onReaddir(readdirNodeModulesSync(this.path + '/node_modules'))\n    } catch {\n      this.onReaddir([])\n    }\n  }\n\n  child (dep) {\n    new BundleWalkerSync({\n      path: this.path + '/node_modules/' + dep,\n      parent: this,\n    }).start()\n  }\n}\n\nconst readdirNodeModules = (nm, cb) => {\n  fs.readdir(nm, (er, set) => {\n    if (er) {\n      cb(er)\n    } else {\n      const scopes = set.filter(f => /^@/.test(f))\n      if (!scopes.length) {\n        cb(null, set)\n      } else {\n        const unscoped = set.filter(f => !/^@/.test(f))\n        let count = scopes.length\n        scopes.forEach(scope => {\n          fs.readdir(nm + '/' + scope, (readdirEr, pkgs) => {\n            if (readdirEr || !pkgs.length) {\n              unscoped.push(scope)\n            } else {\n              unscoped.push.apply(unscoped, pkgs.map(p => scope + '/' + p))\n            }\n            if (--count === 0) {\n              cb(null, unscoped)\n            }\n          })\n        })\n      }\n    }\n  })\n}\n\nconst readdirNodeModulesSync = nm => {\n  const set = fs.readdirSync(nm)\n  const unscoped = set.filter(f => !/^@/.test(f))\n  const scopes = set.filter(f => /^@/.test(f)).map(scope => {\n    try {\n      const pkgs = fs.readdirSync(nm + '/' + scope)\n      return pkgs.length ? pkgs.map(p => scope + '/' + p) : [scope]\n    } catch (er) {\n      return [scope]\n    }\n  }).reduce((a, b) => a.concat(b), [])\n  return unscoped.concat(scopes)\n}\n\nconst walk = (options, callback) => {\n  const p = new Promise((resolve, reject) => {\n    new BundleWalker(options).on('done', resolve).on('error', reject).start()\n  })\n  return callback ? p.then(res => callback(null, res), callback) : p\n}\n\nconst walkSync = options => {\n  return new BundleWalkerSync(options).start().result\n}\n\nmodule.exports = walk\nwalk.sync = walkSync\nwalk.BundleWalker = BundleWalker\nwalk.BundleWalkerSync = BundleWalkerSync\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}