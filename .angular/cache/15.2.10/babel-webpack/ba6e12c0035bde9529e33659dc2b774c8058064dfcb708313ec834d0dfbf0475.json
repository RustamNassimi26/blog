{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet DashboardPageComponent = class DashboardPageComponent {\n  constructor(postsService, alert) {\n    this.postsService = postsService;\n    this.alert = alert;\n    this.posts = [];\n    this.searchStr = '';\n  }\n  ngOnInit() {\n    this.pSub = this.postsService.getAll().subscribe(posts => {\n      this.posts = posts;\n    });\n  }\n  remove(id) {\n    this.dSub = this.postsService.remove(id).subscribe(() => {\n      this.posts = this.posts.filter(post => post.id !== id);\n      this.alert.danger('Пост был удален');\n    });\n  }\n  ngOnDestroy() {\n    if (this.pSub) {\n      this.pSub.unsubscribe();\n    }\n    if (this.dSub) {\n      this.dSub.unsubscribe();\n    }\n  }\n};\nDashboardPageComponent = __decorate([Component({\n  selector: 'app-dashboard-page',\n  templateUrl: './dashboard-page.component.html',\n  styleUrls: ['./dashboard-page.component.scss']\n})], DashboardPageComponent);\nexport { DashboardPageComponent };","map":{"version":3,"mappings":";AAAA,SAAQA,SAAS,QAA0B,eAAe;AAWnD,IAAMC,sBAAsB,GAA5B,MAAMA,sBAAsB;EAOjCC,YACUC,YAA0B,EAC1BC,KAAmB;IADnB,iBAAY,GAAZD,YAAY;IACZ,UAAK,GAALC,KAAK;IAPf,UAAK,GAAW,EAAE;IAGlB,cAAS,GAAG,EAAE;EAKd;EAEAC,QAAQ;IACN,IAAI,CAACC,IAAI,GAAG,IAAI,CAACH,YAAY,CAACI,MAAM,EAAE,CAACC,SAAS,CAACC,KAAK,IAAG;MACvD,IAAI,CAACA,KAAK,GAAGA,KAAK;IACpB,CAAC,CAAC;EACJ;EAEAC,MAAM,CAACC,EAAU;IACf,IAAI,CAACC,IAAI,GAAG,IAAI,CAACT,YAAY,CAACO,MAAM,CAACC,EAAE,CAAC,CAACH,SAAS,CAAC,MAAK;MACtD,IAAI,CAACC,KAAK,GAAG,IAAI,CAACA,KAAK,CAACI,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACH,EAAE,KAAKA,EAAE,CAAC;MACtD,IAAI,CAACP,KAAK,CAACW,MAAM,CAAC,iBAAiB,CAAC;IACtC,CAAC,CAAC;EACJ;EAEAC,WAAW;IACT,IAAI,IAAI,CAACV,IAAI,EAAE;MACb,IAAI,CAACA,IAAI,CAACW,WAAW,EAAE;;IAGzB,IAAI,IAAI,CAACL,IAAI,EAAE;MACb,IAAI,CAACA,IAAI,CAACK,WAAW,EAAE;;EAE3B;CAED;AAnCYhB,sBAAsB,eALlCD,SAAS,CAAC;EACTkB,QAAQ,EAAE,oBAAoB;EAC9BC,WAAW,EAAE,iCAAiC;EAC9CC,SAAS,EAAE,CAAC,iCAAiC;CAC9C,CAAC,GACWnB,sBAAsB,CAmClC;SAnCYA,sBAAsB","names":["Component","DashboardPageComponent","constructor","postsService","alert","ngOnInit","pSub","getAll","subscribe","posts","remove","id","dSub","filter","post","danger","ngOnDestroy","unsubscribe","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["I:\\Angular\\angular-blog\\src\\app\\admin\\dashboard-page\\dashboard-page.component.ts"],"sourcesContent":["import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {PostsService} from '../../shared/posts.service';\nimport {Post} from '../../shared/interfaces';\nimport {Subscription} from 'rxjs';\nimport { AlertService } from '../shared/services/alert.service';\n\n@Component({\n  selector: 'app-dashboard-page',\n  templateUrl: './dashboard-page.component.html',\n  styleUrls: ['./dashboard-page.component.scss']\n})\nexport class DashboardPageComponent implements OnInit, OnDestroy {\n\n  posts: Post[] = []\n  pSub!: Subscription;\n  dSub!: Subscription;\n  searchStr = ''\n\n  constructor(\n    private postsService: PostsService,\n    private alert: AlertService) {\n  }\n\n  ngOnInit() {\n    this.pSub = this.postsService.getAll().subscribe(posts => {\n      this.posts = posts\n    })\n  }\n\n  remove(id: string) {\n    this.dSub = this.postsService.remove(id).subscribe(() => {\n      this.posts = this.posts.filter(post => post.id !== id)\n      this.alert.danger('Пост был удален')\n    })\n  }\n\n  ngOnDestroy() {\n    if (this.pSub) {\n      this.pSub.unsubscribe()\n    }\n\n    if (this.dSub) {\n      this.dSub.unsubscribe()\n    }\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}