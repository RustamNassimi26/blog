{"ast":null,"code":"const {\n  URL\n} = require('url');\nconst replace = '***';\nconst tokenRegex = /\\bnpm_[a-zA-Z0-9]{36}\\b/g;\nconst guidRegex = /\\b[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\\b/g;\nconst cleanUrl = str => {\n  if (typeof str !== 'string' || !str) {\n    return str;\n  }\n  try {\n    const url = new URL(str);\n    if (url.password) {\n      url.password = replace;\n      str = url.toString();\n    }\n  } catch {\n    // ignore errors\n  }\n  return str.replace(tokenRegex, `npm_${replace}`).replace(guidRegex, `npm_${replace}`);\n};\nmodule.exports = cleanUrl;","map":{"version":3,"names":["URL","require","replace","tokenRegex","guidRegex","cleanUrl","str","url","password","toString","module","exports"],"sources":["I:/Angular/angular-blog/node_modules/npm-registry-fetch/lib/clean-url.js"],"sourcesContent":["const { URL } = require('url')\n\nconst replace = '***'\nconst tokenRegex = /\\bnpm_[a-zA-Z0-9]{36}\\b/g\nconst guidRegex = /\\b[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\\b/g\n\nconst cleanUrl = (str) => {\n  if (typeof str !== 'string' || !str) {\n    return str\n  }\n\n  try {\n    const url = new URL(str)\n    if (url.password) {\n      url.password = replace\n      str = url.toString()\n    }\n  } catch {\n    // ignore errors\n  }\n\n  return str\n    .replace(tokenRegex, `npm_${replace}`)\n    .replace(guidRegex, `npm_${replace}`)\n}\n\nmodule.exports = cleanUrl\n"],"mappings":"AAAA,MAAM;EAAEA;AAAI,CAAC,GAAGC,OAAO,CAAC,KAAK,CAAC;AAE9B,MAAMC,OAAO,GAAG,KAAK;AACrB,MAAMC,UAAU,GAAG,0BAA0B;AAC7C,MAAMC,SAAS,GAAG,mEAAmE;AAErF,MAAMC,QAAQ,GAAIC,GAAG,IAAK;EACxB,IAAI,OAAOA,GAAG,KAAK,QAAQ,IAAI,CAACA,GAAG,EAAE;IACnC,OAAOA,GAAG;EACZ;EAEA,IAAI;IACF,MAAMC,GAAG,GAAG,IAAIP,GAAG,CAACM,GAAG,CAAC;IACxB,IAAIC,GAAG,CAACC,QAAQ,EAAE;MAChBD,GAAG,CAACC,QAAQ,GAAGN,OAAO;MACtBI,GAAG,GAAGC,GAAG,CAACE,QAAQ,EAAE;IACtB;EACF,CAAC,CAAC,MAAM;IACN;EAAA;EAGF,OAAOH,GAAG,CACPJ,OAAO,CAACC,UAAU,EAAG,OAAMD,OAAQ,EAAC,CAAC,CACrCA,OAAO,CAACE,SAAS,EAAG,OAAMF,OAAQ,EAAC,CAAC;AACzC,CAAC;AAEDQ,MAAM,CAACC,OAAO,GAAGN,QAAQ"},"metadata":{},"sourceType":"script","externalDependencies":[]}