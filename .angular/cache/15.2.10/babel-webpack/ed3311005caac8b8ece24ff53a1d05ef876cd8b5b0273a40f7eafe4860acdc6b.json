{"ast":null,"code":"'use strict';\n\nvar scopedPackagePattern = new RegExp('^(?:@([^/]+?)[/])?([^/]+?)$');\nvar builtins = require('builtins');\nvar blacklist = ['node_modules', 'favicon.ico'];\nfunction validate(name) {\n  var warnings = [];\n  var errors = [];\n  if (name === null) {\n    errors.push('name cannot be null');\n    return done(warnings, errors);\n  }\n  if (name === undefined) {\n    errors.push('name cannot be undefined');\n    return done(warnings, errors);\n  }\n  if (typeof name !== 'string') {\n    errors.push('name must be a string');\n    return done(warnings, errors);\n  }\n  if (!name.length) {\n    errors.push('name length must be greater than zero');\n  }\n  if (name.match(/^\\./)) {\n    errors.push('name cannot start with a period');\n  }\n  if (name.match(/^_/)) {\n    errors.push('name cannot start with an underscore');\n  }\n  if (name.trim() !== name) {\n    errors.push('name cannot contain leading or trailing spaces');\n  }\n\n  // No funny business\n  blacklist.forEach(function (blacklistedName) {\n    if (name.toLowerCase() === blacklistedName) {\n      errors.push(blacklistedName + ' is a blacklisted name');\n    }\n  });\n\n  // Generate warnings for stuff that used to be allowed\n\n  // core module names like http, events, util, etc\n  builtins({\n    version: '*'\n  }).forEach(function (builtin) {\n    if (name.toLowerCase() === builtin) {\n      warnings.push(builtin + ' is a core module name');\n    }\n  });\n  if (name.length > 214) {\n    warnings.push('name can no longer contain more than 214 characters');\n  }\n\n  // mIxeD CaSe nAMEs\n  if (name.toLowerCase() !== name) {\n    warnings.push('name can no longer contain capital letters');\n  }\n  if (/[~'!()*]/.test(name.split('/').slice(-1)[0])) {\n    warnings.push('name can no longer contain special characters (\"~\\'!()*\")');\n  }\n  if (encodeURIComponent(name) !== name) {\n    // Maybe it's a scoped package name, like @user/package\n    var nameMatch = name.match(scopedPackagePattern);\n    if (nameMatch) {\n      var user = nameMatch[1];\n      var pkg = nameMatch[2];\n      if (encodeURIComponent(user) === user && encodeURIComponent(pkg) === pkg) {\n        return done(warnings, errors);\n      }\n    }\n    errors.push('name can only contain URL-friendly characters');\n  }\n  return done(warnings, errors);\n}\nvar done = function (warnings, errors) {\n  var result = {\n    validForNewPackages: errors.length === 0 && warnings.length === 0,\n    validForOldPackages: errors.length === 0,\n    warnings: warnings,\n    errors: errors\n  };\n  if (!result.warnings.length) {\n    delete result.warnings;\n  }\n  if (!result.errors.length) {\n    delete result.errors;\n  }\n  return result;\n};\nmodule.exports = validate;","map":{"version":3,"names":["scopedPackagePattern","RegExp","builtins","require","blacklist","validate","name","warnings","errors","push","done","undefined","length","match","trim","forEach","blacklistedName","toLowerCase","version","builtin","test","split","slice","encodeURIComponent","nameMatch","user","pkg","result","validForNewPackages","validForOldPackages","module","exports"],"sources":["I:/Angular/angular-blog/node_modules/npm-pick-manifest/node_modules/validate-npm-package-name/lib/index.js"],"sourcesContent":["'use strict'\n\nvar scopedPackagePattern = new RegExp('^(?:@([^/]+?)[/])?([^/]+?)$')\nvar builtins = require('builtins')\nvar blacklist = [\n  'node_modules',\n  'favicon.ico',\n]\n\nfunction validate (name) {\n  var warnings = []\n  var errors = []\n\n  if (name === null) {\n    errors.push('name cannot be null')\n    return done(warnings, errors)\n  }\n\n  if (name === undefined) {\n    errors.push('name cannot be undefined')\n    return done(warnings, errors)\n  }\n\n  if (typeof name !== 'string') {\n    errors.push('name must be a string')\n    return done(warnings, errors)\n  }\n\n  if (!name.length) {\n    errors.push('name length must be greater than zero')\n  }\n\n  if (name.match(/^\\./)) {\n    errors.push('name cannot start with a period')\n  }\n\n  if (name.match(/^_/)) {\n    errors.push('name cannot start with an underscore')\n  }\n\n  if (name.trim() !== name) {\n    errors.push('name cannot contain leading or trailing spaces')\n  }\n\n  // No funny business\n  blacklist.forEach(function (blacklistedName) {\n    if (name.toLowerCase() === blacklistedName) {\n      errors.push(blacklistedName + ' is a blacklisted name')\n    }\n  })\n\n  // Generate warnings for stuff that used to be allowed\n\n  // core module names like http, events, util, etc\n  builtins({ version: '*' }).forEach(function (builtin) {\n    if (name.toLowerCase() === builtin) {\n      warnings.push(builtin + ' is a core module name')\n    }\n  })\n\n  if (name.length > 214) {\n    warnings.push('name can no longer contain more than 214 characters')\n  }\n\n  // mIxeD CaSe nAMEs\n  if (name.toLowerCase() !== name) {\n    warnings.push('name can no longer contain capital letters')\n  }\n\n  if (/[~'!()*]/.test(name.split('/').slice(-1)[0])) {\n    warnings.push('name can no longer contain special characters (\"~\\'!()*\")')\n  }\n\n  if (encodeURIComponent(name) !== name) {\n    // Maybe it's a scoped package name, like @user/package\n    var nameMatch = name.match(scopedPackagePattern)\n    if (nameMatch) {\n      var user = nameMatch[1]\n      var pkg = nameMatch[2]\n      if (encodeURIComponent(user) === user && encodeURIComponent(pkg) === pkg) {\n        return done(warnings, errors)\n      }\n    }\n\n    errors.push('name can only contain URL-friendly characters')\n  }\n\n  return done(warnings, errors)\n}\n\nvar done = function (warnings, errors) {\n  var result = {\n    validForNewPackages: errors.length === 0 && warnings.length === 0,\n    validForOldPackages: errors.length === 0,\n    warnings: warnings,\n    errors: errors,\n  }\n  if (!result.warnings.length) {\n    delete result.warnings\n  }\n  if (!result.errors.length) {\n    delete result.errors\n  }\n  return result\n}\n\nmodule.exports = validate\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}